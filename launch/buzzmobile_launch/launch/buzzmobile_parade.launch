<launch>

  <arg name="record_data" default="true" />
  <group ns="buzzmobile">
<!--	<node pkg="obstacle_detector" name="obstacle_detector" type="detector_node.py"/> -->
	<node pkg="hokuyo_node" name="hokuyo_node" type="hokuyo_node">
        <param name="port" value="/dev/ttyACM0" /> <!-- TODO replace with hokuyo port from udev -->
    </node>
	<node pkg="usb_cam" name="front_cam" type="usb_cam_node">
		<param name="video_device" value="/dev/video0"/>
	</node>
    <node pkg="car_interface" name="car_interface" type="car_interface"/>
    <node pkg="joy" name="joy_node" type="joy_node">
        <param name="dev" value="/dev/input/js0" />
    </node>
    <node pkg="controller_teleop" name="teleop_joy" type="teleop_joy_node" />
  </group>

  <node pkg="image_view" type="image_view" name="frontCam_view">
    <remap from="image" to="image_raw"/>
  </node>
  <node pkg="rosbag" type="record" name="rosbag_record_cam"
     args="/PTZ/image_raw /PTZ/camera_info /scan /imu /teleop_joy"
     if="$(arg record_data)" />

</launch>
